@model FingerPrint.View_Model.CheckIdViewModel

@{
	//Layout = "~/Views/Shared/Layout1.cshtml";
	Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
	<meta name="description" content="Smarthr - Bootstrap Admin Template">
	<meta name="keywords" content="admin, estimates, bootstrap, business, corporate, creative, management, minimal, modern, accounts, invoice, html5, responsive, CRM, Projects">
	<meta name="author" content="Dreamguys - Bootstrap Admin Template">
	<meta name="robots" content="noindex, nofollow">
	<title>Login - HRMS admin template</title>

	<link rel="shortcut icon" type="image/x-icon" href="~/assetsnew/img/favicon.png">

	<link rel="stylesheet" href="~/assetsnew/css/bootstrap.min.css">

	<link rel="stylesheet" href="~/assetsnew/css/font-awesome.min.css">

	<link rel="stylesheet" href="~/assetsnew/css/style.css">
	<link rel="preconnect" href="https://fonts.gstatic.com">

	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap"
		  rel="stylesheet">
	<link rel="stylesheet" href="~/assets/css/bootstrap.css">

	<link rel="stylesheet" href="~/assets/vendors/simple-datatables/style.css">
	<!--fontawesome-->
	<link rel="stylesheet"
		  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>@ViewBag.Title - BIZ-BAZ</title>
	@Scripts.Render("~/bundles/modernizr")

	<!--[if lt IE 9]>
				<script src="assets/js/html5shiv.min.js"></script>
				<script src="assets/js/respond.min.js"></script>
			<![endif]-->

</head>
<body class="account-page">


	<div class="main-wrapper">
		<div class="account-content">
			<div class="container">
				<div class="account-logo">
					<a href="admin-dashboard.html"><img src="~/assets/images/biz_logo_circle1.png" alt="Dreamguy's Technologies"></a>
				</div>
				<div class="account-box ">
					<div class="account-wrapper">

						<h3 class="account-title"></h3>
						<p class="account-subtitle">Please Capture Your Finger </p>


						@using (Html.BeginForm())
						{
							@Html.ValidationSummary(true, "", new { @class = "text-danger" })
							@Html.AntiForgeryToken()

					<div class="form-horizontal">
						<div class="form-group">
								@Html.LabelFor(model => model.Userid, htmlAttributes: new { @class = "control-label" })
								@Html.EditorFor(model => model.Userid, new { htmlAttributes = new { @class = "form-control", @onchange = "MyFunction()" } })
								@Html.ValidationMessageFor(model => model.Userid, "", new { @class = "text-danger" })
						</div>
						<p class="invalidId text-danger">Enter Valid Id!!!</p>
						<p class="EmptyFinger text-danger">Please Register your Finger</p>

						<div class="col-md-10 text-danger" id="txte">

						</div>
						<p id="staffName"></p>



						<div class="form-group text-center">
							<button type="button" value="capture" id="capture"
									class="btn btn-primary account-btn" >
								Capture
							</button>

						</div>
						<a href="~/User/Login" style="text-decoration:none; margin-left:40%">Admin Login</a>
					</div>
						}

						<div class="panel">
							<table class="d-none" width="100%">
								<tr class="hide">
									<td>
										<input type="text" value="" id="txtStatus" class="form-control hide" />
									</td>
								</tr>
								<tr class="hide">
									<td>
										<input type="text" value="" id="id" class="form-control hide" />
									</td>
								</tr>
								<tr class="hide">
									<td>
										Quality:
									</td>
									<td>
										<input type="text" value="" id="txtImageInfo" class="form-control" />
									</td>
								</tr>

								<tr class="hide">
									<td>
										Base64Encoded ISO Template
									</td>
									<td>
										<textarea id="txtIsoTemplate" name="txtIsoTemplate" style="width: 100%; height:50px;"
												  value="" class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Base64Encoded ANSI Template
									</td>
									<td>
										<textarea id="txtAnsiTemplate" style="width: 100%; height:50px;"
												  class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Base64Encoded ISO Image
									</td>
									<td>
										<textarea id="txtIsoImage" style="width: 100%; height:50px;"
												  class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Base64Encoded Raw Data
									</td>
									<td>
										<textarea id="txtRawData" style="width: 100%; height:50px;"
												  class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Base64Encoded Wsq Image Data
									</td>
									<td>
										<textarea id="txtWsqData" style="width: 100%; height:50px;"
												  class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Encrypted Base64Encoded Pid/Rbd
									</td>
									<td>
										<textarea id="txtPid" style="width: 100%; height:50px;" class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Encrypted Base64Encoded Session Key
									</td>
									<td>
										<textarea id="txtSessionKey" style="width: 100%; height:50px;"
												  class="form-control"> </textarea>
									</td>
								</tr>
								<tr class="hide">
									<td>
										Encrypted Base64Encoded Hmac
									</td>
									<td>
										<input type="text" value="" id="txtHmac" class="form-control" />
									</td>
								</tr>
								<tr class="hide">
									<td>
										Ci
									</td>
									<td>
										<input type="text" value="" id="txtCi" class="form-control" />
									</td>
								</tr>
								<tr class="hide">
									<td>
										Pid/Rbd Ts
									</td>
									<td>
										<input type="text" value="" id="txtPidTs" class="form-control" />
									</td>
								</tr>
							</table>
						</div>

					</div>
				</div>

			</div>
				</div>
			</div>
				
				@Scripts.Render("~/bundles/jquery")
				<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
				<script src="~/assets/js/bootstrap.bundle.min.js"></script>
				<script src="~/assets/vendors/simple-datatables/simple-datatables.js">
				</script>
				<script src=" ~/js/mfs.js"></script>
				<script src="~/js/mfs100Scripts.js"></script>
				<script src="~/assetsnew/js/bootstrap.bundle.min.js"></script>
				<script src="~/assetsnew/js/app.js"></script>

				@Scripts.Render("~/bundles/jqueryval")
				<script>
					function MyFunction() {
						var x = document.getElementById("Userid").value;
						CheckStaffFingerPrint(x);
					}

					function CheckStaffFingerPrint(x) {
						$.ajax({
							type: "POST",
							url: "/User/checkStaffFingerPrint",
							data: { StaffId: x },
							success: function (data) {
								$('.invalidId').hide();
								$('.EmptyFinger').hide();
								$('#txte').hide();
								if (data.Fingerprint == null) {
									$('#txte').hide();
									$('.EmptyFinger').show();
								} else {
									var MyId = "txtisotemplate&" + data.Staff_id;
									var MyFingerPrint = data.Fingerprint;
									$('#txte').append(" <input  type='hidden' id='" + MyId + "' value='" + MyFingerPrint + "'/>");

								}

							},
							error: function (error) {
								$('#txte').hide();
								$('.EmptyFinger').hide();
								$('.invalidId').show();
							}

						});

					}

					$(document).ready(function () {
						$('.invalidId').hide();
						$('.EmptyFinger').hide();
						$('#capture').on('click', function (e) {
							var Id = document.getElementById("Userid").value;
							Match(Id);
						});
					});
				</script>
</body>
</html>
